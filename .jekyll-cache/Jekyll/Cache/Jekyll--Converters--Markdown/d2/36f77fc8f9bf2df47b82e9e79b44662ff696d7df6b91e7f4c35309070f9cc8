I"Ò	<p>Esta es una gu√≠a paso a paso para el <a href="https://github.com/torresmateo/parser-hesaka">parser simple</a> que escrib√≠ para parsear <a href="https://www.asuncion.gov.py/hesaka">PDFs intencionalmente ofuscados</a> por la Municipalidad de Asunci√≥n con el √∫nico objetivo de minimizar la transparencia de las gestiones.</p>

<h2 id="qu√©-software-instalar">Qu√© software instalar:</h2>

<p>El parser es un parser de texto, y no un parser de im√°genes. Para obtener el texto, necesitamos instalar dos herramientas gratuitas que nos sirven para un proceso de dos pasos:</p>

<ol>
  <li>Transformar el PDF a im√°genes (una im√°gen por p√°gina)</li>
  <li>Detectar el texto en las im√°genes, manteniendo los espacios entre las columnas.</li>
</ol>

<p>El primer paso lo hacemos con el comando <a href="https://www.xpdfreader.com/pdftopng-man.html">pdftopng</a>, para lo cual debemos instalar <a href="https://www.xpdfreader.com/download.html">XpdfReader</a> (o alguna herramienta que pueda transformar pdf a im√°genes <a href="">hay</a> <a href="">muchas</a> <a href="">opciones</a>. Instrucciones para instalr XpdfReader (en ingl√©s) en <a href="">este link</a>.</p>

<p>El segundo paso lo hacemos con un software que reconoce caracteres en im√°genes. Esto se conoce como OCR, del ingl√©s <em>Optical Character Recognition</em>. Yo eleg√≠ usar <a href="https://github.com/tesseract-ocr/tesseract">tesseract</a>, ya que es gratis y open source, pero existen [muchas alternativas] para este prop√≥sito. Lo √∫nico que necesitamos es transformar las im√°genes a texto.</p>

<h2 id="paso-1-transoformar-pdf-a-varias-im√°genes">Paso 1. Transoformar pdf a varias im√°genes</h2>

<p>Usando <code class="language-plaintext highlighter-rouge">pdftopng</code> el comando a correr (en una terminal) es el siguiente:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
</code></pre></div></div>

<h2 id="la-estructura-de-las-im√°genes-de-hesaka">La estructura de las im√°genes de Hesaka.</h2>

<p>La estructura de todas las p√°ginas de los archivos de Hesaka se ven como la siguiente im√°gen:
<img src="images/manual-hesaka/screenshot-pdf" alt="screenshot-pdf" /></p>

<p>Es decir, tenemos las columnas:</p>

<ul>
  <li>C√©dula (un n√∫mero)</li>
  <li>Nombre</li>
  <li>Relaci√≥n Laboral</li>
  <li>Monto</li>
  <li>Concepto</li>
  <li>Dependencia</li>
  <li>Cargo (opcional)</li>
  <li>A√±o de Ingreso (completa en esta figura, pero a veces no est√° especificado, entonces tambi√©n opcional)</li>
</ul>
:ET